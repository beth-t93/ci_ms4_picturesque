{% extends "base.html" %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'blog/css/blog.css' %}">
{% endblock %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}
    
    {% for post in posts %}
        <div class="post block text-color">
            <h2>{{ post.title }}</h2>
            {% if post.image %}
                <a href="{{ Post.image.url }}" target="_blank">
                    <img class="card-img-top img-fluid" src="{{ post.image.url }}" alt="{{ post.name }}">
                </a>
                {% else %}
                <a href="">
                    <img class="card-img-top img-fluid" src="{{ MEDIA_URL }}noimage.png" alt="{{ post.name }}">
                </a>
            {% endif %}
            <p>{{ post.body|safe|truncatewords:"25"|linebreaks }}</p>
            <p>Posted at {{ post.date_added }}</p>
            <a href="{% url 'post_detail' post.slug %}">Read more</a>
        </div>
        <br>
    {% endfor %}

{% endblock %}